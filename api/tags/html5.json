{"name":"html5","slug":"html5","count":1,"postlist":[{"title":"卡片需求记录","slug":"由一个需求引出的关于html5、react状态的想法","date":"2018-10-26T03:55:04.000Z","updated":"2018-11-13T03:44:36.775Z","comments":true,"path":"api/articles/由一个需求引出的关于html5、react状态的想法.json","excerpt":"","keywords":null,"cover":null,"content":"<h4 id=\"背景介绍\"><a href=\"#背景介绍\" class=\"headerlink\" title=\"* 背景介绍\"></a>* 背景介绍</h4><p>进入工作以来的第一个需求，对一个页面进行优化。<br>原页面为三张卡片，现要求将对每个卡片增加新功能，并置于一个tab下单独显示。<br>经过分析，因为所需开发的组件只有一个页面需要使用，所以干脆将三个tab页开发成一个组件，仅为该页面使用。因此这里使用了对不同tab页进行ajax请求，默认初始页为第一个tab页。<br><figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//定义一个函数用来切换不同tab，index根据tab切换后的顺序决定</span></span><br><span class=\"line\">changeShow:function(index)&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(index == <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.showFirstTab();</span><br><span class=\"line\">\t\t&#125;<span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(index == <span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.showSecondTab();</span><br><span class=\"line\">\t\t&#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.showThirdTab();</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br></pre></td></tr></table></figure></p>\n<p>在开发过程中遇到两个问题卡住了很久，现总结记录一下。</p>\n<h5 id=\"需求关键点\"><a href=\"#需求关键点\" class=\"headerlink\" title=\"* 需求关键点\"></a>* 需求关键点</h5><ol>\n<li>在开发的时候是以iPhone的样式为准，而安卓的样式会有一些细微的变化，需要单独判断设备然后设置不同的样式。<br>但是在开发中发现，第一个tab的内容可以根据安卓设备进行样式微调，但是当点击后面的tab后，微调的样式就无效了。 </li>\n<li>产品希望在某个tab中跳转到其他页面后，点击返回还可以到当前的tab页。</li>\n</ol>\n<h5 id=\"解决思路\"><a href=\"#解决思路\" class=\"headerlink\" title=\"* 解决思路\"></a>* 解决思路</h5><ol>\n<li>牵扯到tab栏，因此有两种解决方案，一为将每个tab作为一个页面，每次点击tab进行跳页，因此三个页面需要开发三个组件；二为将三个页面作为一个组件开发，每次点击tab仅是切换组件的不同状态。  </li>\n</ol>\n<ul>\n<li>解决方案：考虑到仅有本页面用到三张卡，且减少额外的网络请求，因此最终采用第二种方案。</li>\n</ul>\n<ol start=\"2\">\n<li>不同设备，展示的功能不同，必然会导致有些设备内容高度不满一屏，而每个tab都有背景色，则必然会导致出现如下情况，因此需要计算内容高度。</li>\n</ol>\n","text":"* 背景介绍进入工作以来的第一个需求，对一个页面进行优化。<br>原页面为三张卡片，现要求将对每个卡片增加新功能，并置于一个tab下单独显示。<br>经过分析，因为所需开发的组件只有一个页面需要使用，所以干脆将三个tab页开发成一个组件，仅为该页面使用。因此这里使用了对不同tab","link":"","raw":null,"photos":[],"categories":[{"name":"需求","slug":"需求","count":1,"path":"api/categories/需求.json"},{"name":"日常需求","slug":"需求/日常需求","count":1,"path":"api/categories/需求/日常需求.json"}],"tags":[{"name":"html5","slug":"html5","count":1,"path":"api/tags/html5.json"},{"name":"react","slug":"react","count":1,"path":"api/tags/react.json"}]}]}